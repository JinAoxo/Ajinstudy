<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>dropdown</title>
	<link rel="stylesheet" href="../../css/style.css">
</head>

<body>
	<h1 class="sr-only">#2. ìŠ¤í„°ë”” ì£¼ì œ : selectbox/ dropdown</h1>

	<div class="wrap p-10">
		<h2>selectbox / dropdown / ì»¤ìŠ¤í…€ ì…€ë ‰íŠ¸(ë¦¬ìŠ¤íŠ¸í˜• ë“œë¡­ë‹¤ìš´) </h2>
		<p><strong>ìŠ¤í„°ë”” ë‚´ìš© : </strong>selectbox & dropdown ì›¹ì ‘ê·¼ì„±ì— ë§ì¶˜ ë§ˆí¬ì—…</p>

		<section class="p-5">
			<h3>ì‹œë©˜í‹± ë§ˆí¬ì—… /ì›¹ì ‘ê·¼ì„±ì„ ë§ì¶”ëŠ” ë°©ë²•</h3>
			<ol>
				<li>1. ë§ˆí¬ì—… ë¶€ë¶„ : divë¡œ ìƒìœ„ ì „ì²´ë¥¼ í•œë²ˆ ê°ì‹¸ê³  -> <span class="text-red"> dl > dt(a) + dd(ul > li > a)</span></li>
				<li>2. 'í¼ì¹˜ê¸°/ì ‘ê¸°' í…ìŠ¤íŠ¸ titleì— í‘œê¸°</li>
			</ol>
		</section>
		<section class="p-5">
			<h3>ë‚´ìš©</h3>
			<h4 class="text-red">1. dl > dt(a) + dd(ul > li > a) : ìš°ì²´êµ­ ì°¸ê³ </h4>
			<p> - ì›¹ ì ‘ê·¼ì„± tab ì‚¬ìš©í–ˆì„ ê²½ìš° ì„ íƒë˜ëŠ” ë¶€ë¶„ js ì»¤ìŠ¤í…€</p>
			<p> - 'í¼ì¹˜ê¸°/ì ‘ê¸°' í…ìŠ¤íŠ¸ titleì— í‘œê¸° ë³€ê²½ë˜ëŠ” ë¶€ë¶„ ì»¤ìŠ¤í…€</p>
			<p> - ì»¤ìŠ¤í…€ ì‹œ ğŸ”» ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ :after ë¶€ë¶„ì— ì»¤ìŠ¤í…€ í›„ ì‘ì—… </p>
			<div class="try-1 mb-15">
				<div class="selectbox-wrap">
					<dl>
						<dt><a href="#;" title="ì„ íƒ í¼ì¹˜ê¸°"><span>ì „ì²´</span></a></dt>
						<dd>
							<ul>
								<li><a href="#;"><span>option</span></a></li>
								<li><a href="#;"><span>option</span></a></li>
							</ul>
						</dd>
					</dl>
				</div>
			</div>

			<h4>2. select / option </h4>
			<p> - select : ì˜µì…˜ ë©”ë‰´ë¥¼ ì œê³µí•˜ëŠ” ë“œë¡­ë‹¤ìš´ ë¦¬ìŠ¤íŠ¸(drop-down list)ë¥¼ ì •ì˜í•  ë•Œ ì‚¬ìš©</p>
			<p> - custom í• ë•Œ appearanceë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì œê±° í›„ ì»¤ìŠ¤í…€ <span class="text-red text-bold">/ ì»¤ìŠ¤í…€ì´ í˜ë“¬</span></p>
			<p> - ì›¹ ì ‘ê·¼ì„± tab ì‚¬ìš©ì‹œ select ìì²´ëŠ” ì„ íƒë¨ option ë¶€ë¶„ì€ í™”ì‚´í‘œë¡œë§Œ ì„ íƒê°€ëŠ¥</p>
			<div class="try-2 mb-15">
				<div class="selectbox-wrap">
					<div>
						<form action="#;">
							<label for="select1">select label(í™”ì‚´í‘œë¥¼ ì»¤ìŠ¤í…€ í•œë‹¤ë©´ labelì—)/ autofocus: ê¸°ëŠ¥ì‚¬ìš© ê°€ëŠ¥
								<select id="select1" autofocus required>
									<option value="í•´ë‹¹ ì†ì„±ì„ ì‚¬ìš©í•˜ì—¬ ì„œë²„ì— ì œì¶œí•  ë°ì´í„° ê°’ì„ ë„£ì„ ìˆ˜ ìˆìŒ">optionê¸°ë³¸</option>
									<option>option1</option>
									<option>option2</option>
								</select>
							</label>
						</form>
					</div>
					<div>
						<form action="#;">
							<label for="select2">select label
								<select id="select2">
									<optgroup>
										<option>optgroup1</option>
										<option>option1</option>
										<option>option2</option>
									</optgroup>
									<optgroup>
										<option>optgroup2</option>
										<option>option1</option>
										<option disabled>option2</option>
									</optgroup>
								</select>
							</label>
						</form>
					</div>
				</div>
			</div>

			<h4>3. í˜¼ì ì‘ì—… í–ˆë˜ ë°€í¬í‹°</h4>
			<p> - button ìœ¼ë¡œ ì‘ì—… í›„ -> div > ul > li ë¡œ ì‘ì—… / labelì´ activeê°€ ë˜ì—ˆì„ë•Œ slideDown slideUp ìœ¼ë¡œ option í‘œì‹œ</p>
			<p> - ì»¤ìŠ¤í…€ ì‹œ ğŸ”» ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ :after ë¶€ë¶„ì— ì»¤ìŠ¤í…€ í›„ ì‘ì—… </p>
			<p> - ì›¹ ì ‘ê·¼ì„± tab ì‚¬ìš©ì‹œ select option ì„ íƒë¨ : button ê³¼ aë¡œ ë§ˆí¬ì—… ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ê°€ëŠ¥í•œ ë¶€ë¶„</p>
			<div class="try-2 mb-15">
				<div class="select-milkt">
					<button class="label">optionê¸°ë³¸</button>
					<div class="select-option">
						<ul>
							<li class="option"><a href="#">option1</a></li>
							<li class="option"><a href="#">option2</a></li>
							<li class="option"><a href="#">option3</a></li>
							<li class="option"><a href="#">option4</a></li>
						</ul>
					</div>
				</div>
			</div>
		</section>
	</div>

	<!-- JavaScript -->
	<script src="../../js/jquery-3.5.1.min.js"></script>

	<!-- TODO : ê°œë°œì‹œ ë°˜ë“œì‹œ ì‚­ì œ, ë ˆì´ì•„ì›ƒ ì„¸íŒ… JS -->
	<!-- <script src="../js/ui-layout-setting.js"></script> -->

	<!-- ê³µí†µ UI ì»´í¬ë„ŒíŠ¸ -->
	<script src="../../js/ui-main.js"></script>
	<script src="../../js/study.js"></script>

	<!-- í˜ì´ì§€ ê°œë³„ ìŠ¤í¬ë¦½íŠ¸ -->
	<script>
		// ì´ê³³ì— ì •ì˜
		//1. ìš°ì²´êµ­ ì°¸ê³ 
		//mousedown : ë§ˆìš°ìŠ¤ë¥¼ ëˆŒë €ì„ë•Œì˜ ì´ë²¤íŠ¸
		//length : ë¬¸ìì—´ì˜ ê¸¸ì´ë¥¼ ì²´í¬í•˜ëŠ” ë°©ë²•
		//closest : ê°€ì¥ ê°€ê¹Œìš´ ìƒìœ„ ìš”ì†Œ -> ë‹¨í•˜ë‚˜ì˜ ê²°ê³¼ë§Œ ë¦¬í„´
		//parents : ë¶€ëª¨ìš”ì†Œ -> í•˜ë‚˜ê°€ ì•„ë‹ˆë¼ë©´
		//parent : ë¶€ëª¨ìš”ì†Œ -> í•´ë‹¹ìš”ì†Œ ë°”ë¡œ ìœ„ì˜ ë¶€ëª¨ìš”ì†Œ
		//children : ì§ê³„ ìì‹ìš”ì†Œë§Œ ì¶”ì¶œ, ì„ íƒ ê°€ëŠ¥
		//find : í•˜ìœ„ ìì‹ ìš”ì†Œ ì „ì²´
		//replace : replace("ì°¾ì„ ë¬¸ìì—´", "ë³€ê²½í•  ë¬¸ìì—´") ë¬¸ìë¥¼ ì°¾ì•„ì„œ ë°”ê¾¸ëŠ” í˜•ì‹ âœ¨
		//toggle() : ì„ íƒí•œ ìš”ì†Œê°€ ë³´ì´ë©´ ë³´ì´ì§€ ì•Šê²Œ, ë³´ì´ì§€ ì•Šìœ¼ë©´ ë³´ì´ê²Œ ë°©ë²•
		//toggleClass() : ì„ íƒí•œ ìš”ì†Œì˜ í´ë˜ìŠ¤ê°’ì„ ë„£ì—ˆë‹¤ê°€ ëºë‹¤ê°€ í•˜ëŠ” ë°©ë²•
		//.has(e.target).length === 0 -> ì´ ë¶€ë¶„ì´ í•´ë‹¹ ì˜ì—­ í•´ë‹¹ì˜ì—­ì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ê°€ ë°œìƒë˜ëŠ”ê²Œ ì—†ë‹¤ë©´

		// if ($('.try-1 .selectbox-wrap').has(e.target).length === 0) {
		// 	$('.try-1 .selectbox-wrap').removeClass("active");
		// } ->ê³µë¶€ í•„ìš”

		//ì…€ë ‰íŠ¸ ë°•ìŠ¤ ì ‘ê¸°, í¼ì¹˜ê¸°
		$(function () {
			$('.try-1 .selectbox-wrap dl dt a').on('click', function (e) {
				$('.try-1 .selectbox-wrap').toggleClass('active');
				if ($('.try-1 .selectbox-wrap').hasClass('active')) {
					$(e.target).closest('.selectbox-wrap dl dt a').attr('title', $(this).attr('title').replace('í¼ì¹˜ê¸°', 'ì ‘ê¸°'));
				} else {
					$(e.target).closest('.selectbox-wrap dl dt a').attr('title', $(this).attr('title').replace('ì ‘ê¸°', 'í¼ì¹˜ê¸°'));
				}
			});
		});

		$(function () {
			$('.try-1 .selectbox-wrap dl dd a').on('click', function (e) {
				e.preventDefault()
				var option = $(this).text();
				// console.log(option);
				$('.try-1 .selectbox-wrap.active').removeClass('active');
				// ì§ˆë¬¸ 1. ì‘ë™ ì•ˆë˜ìš”.ğŸ˜¥ : í•´ê²° : ë¬¸ì œ 1. children()ì´ ë§ì•„ì§„ë‹¤ / 2. closest() + find()ë¥¼ ì¨ì•¼í•œë‹¤

				// $(e.target).closest('.selectbox-wrap.active dl dt a').attr('title', $(this).attr('title').replace('ì ‘ê¸°', 'í¼ì¹˜ê¸°'));
				// // console.log();
				// var test = $(e.target).closest('.try-1 .selectbox-wrap').children().children().children('a')
				var test = $(e.target).closest('.try-1 .selectbox-wrap').find('dl dt a'); // ê°€ëŠ¥ 
				var test2 = test.attr('title', test.attr('title').replace('ì ‘ê¸°', 'í¼ì¹˜ê¸°'))
				console.log(test2);
				$('.selectbox-wrap dl dt a').text(option);
			});
		});


		// ì ‘ê·¼ì„± í¬ì»¤ì‹± ìœ ì§€

		$(document).on('keydown', '.try-1 .selectbox-wrap.active dl dd ul li:last-child a', function (e) {
			if (e.keyCode == 9 && !e.shiftKey) { // shift
				e.preventDefault();
				var test3 = $(this).closest('.try-1 .selectbox-wrap.active dl').find('dt a');
				test3.focus();
			}
		}).on('keydown', '.try-1 .selectbox-wrap.active dl dt a', function (e) {
			if ($('.try-1 .selectbox-wrap.active dl dt a').is(e.target) && e.keyCode == 9 && e.shiftKey) { // shift + tab
				e.preventDefault();
				// var test4 = $(this).closest('.try-1 .selectbox-wrap.active dl').children('dd').children('ul').children('li:last-child').children('a');
				var test4 = $(this).closest('.try-1 .selectbox-wrap.active dl').find('dd ul li:last-child a');
				test4.focus();
				// console.log(test4);
			}
		});


		//3. í˜¼ì ì‘ì—…í–ˆë˜ ë°€í¬í‹°
		$(function () {
			$(".select-milkt .label").click(function () {
				var select = $(this);

				//ë“œë¡­ë‹¤ìš´ ì—´ê¸°
				select.addClass("active").next('.select-option').slideDown(100).addClass("active");

				//ë‹¤ë¥¸ì˜ì—­ í´ë¦­ ì‹œ ë‹«ê¸°
				$(document).mouseup(function (e) {
					var seting = $(".select-option");
					if (seting.has(e.target).length === 0) {
						seting.removeClass("active").slideUp(100);
						select.removeClass("active");
					}
				});

				$(".select-option .option").click(function () {
					var option = $(this).text();

					//í´ë¦­ ì‹œ ë“œë¡­ë‹¤ìš´ ë‹«ê¸°
					$(".select-option .option").removeClass('selected');
					$(".select-option").removeClass("active").slideUp(100);
					select.removeClass("active");
					$(this).addClass('selected');

					//selectì— text ë„£ê¸°
					select.text(option);
				});
			});
		});
	</script>
</body>

</html>